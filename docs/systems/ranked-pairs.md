# Ranked Pairs（鎖定排序）

## 一句話概念

先算所有兩兩對決，依勝負強度由強到弱「鎖定」勝負關係，但避免形成循環，最後得到排名。

## 計票步驟（簡化）

1. 建立 pairwise 矩陣：對每對候選人 (A, B)，統計有多少票把 A 排在 B 之前
2. 對每一對候選人，找出勝者與勝負差（margin）
3. 依勝負強度排序後，逐一嘗試把「勝者 → 敗者」鎖定到圖上
   - 本網站排序規則：先看 margin（大到小），再看勝者票數（多到少），最後用候選人代號做固定順序
4. 若鎖定會造成循環（cycle），則跳過該邊
5. 最終由鎖定圖推出排名（通常取無入邊者為第一名）

## 優點

- 常被視為較貼近孔多賽精神的一種方法
- 有明確的「避免循環」機制

## 缺點與注意

- 實作與解釋比 IRV/Plurality 複雜
- 細節（排序規則、平手處理）會影響結果

## 在第二輪的解讀

在候選人集合固定時，Ranked Pairs 常用來觀察：

- 是否能選出孔多賽優勝者
- 鎖定順序如何影響最終排名

## 例子 1（3 人孔多賽循環，非平票）

投票分布：

- 4 票：A > B > C
- 3 票：B > C > A
- 2 票：C > A > B

兩兩對決（列勝過欄的票數）：

|   | A | B | C |
|---|---|---|---|
| A | - | 6 | 4 |
| B | 3 | - | 7 |
| C | 5 | 2 | - |

因此：A 勝 B（6:3）、B 勝 C（7:2）、C 勝 A（5:4），形成循環。  

鎖定流程（依勝負強度，由大到小）：

1. 鎖 B → C（7:2，margin 5）
2. 鎖 A → B（6:3，margin 3）
3. 嘗試鎖 C → A（5:4，margin 1）會形成循環，跳過

最後鎖定圖為 A → B → C，因此排名為 **A 第一、B 第二、C 第三**。  
註：循環時若 tie-break 規則不同，最終順位可能不同。

## 例子 2（4 人，孔多賽優勝者存在）

投票分布：

- 6 票：A > B > C > D
- 4 票：B > C > D > A
- 3 票：C > D > B > A
- 2 票：D > C > B > A

兩兩對決重點：

- B 勝 A（9:6）、B 勝 C（10:5）、B 勝 D（10:5）

因此 B 是孔多賽優勝者。  
鎖定時會先鎖定大邊（如 C → D、B → C、B → D），最後排名為 **B 第一**。

## 例子 3（4 人，孔多賽優勝者存在）

投票分布：

- 7 票：A > B > C > D
- 3 票：B > C > D > A
- 2 票：C > D > B > A
- 1 票：D > C > B > A

兩兩對決重點：

- A 勝 B（7:6）、A 勝 C（7:6）、A 勝 D（7:6）

因此 A 是孔多賽優勝者。  
鎖定後排名第一為 **A**。
